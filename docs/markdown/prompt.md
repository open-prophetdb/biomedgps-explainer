### ğŸ¯ **ä»»åŠ¡ç›®æ ‡**

æˆ‘éœ€è¦ä½ å¸®åŠ©æˆ‘å°†ä»¥ä¸‹ä»£ç æ–‡ä»¶ï¼š

* `drugs4disease.py`
* `visualize.ipynb`
* `run.ipynb`

å°è£…æˆä¸€ä¸ªå®Œæ•´ã€å¯å®‰è£…ã€å¯å¤ç”¨çš„ Python åŒ…ï¼Œç”¨äºå›´ç»•ä»»ä½•æŒ‡å®šç–¾ç—…ç”Ÿæˆæ½œåœ¨è¯ç‰©åˆ—è¡¨ã€æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å¤æ‚ç­›é€‰æ¡ä»¶ã€å¹¶è¾“å‡ºå›¾è¡¨ã€‚

---

### ğŸ“Œ **åŠŸèƒ½è¦æ±‚**

#### 1ï¸âƒ£ **ä¸»åŠŸèƒ½**

* æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ç–¾ç—…åç§°ï¼ˆæˆ–æ¨¡å‹æ”¯æŒçš„ç–¾ç—… IDï¼‰ã€‚
* è°ƒç”¨å·²æœ‰é€»è¾‘ç”Ÿæˆ Potential Drug Listï¼ˆ`annotated_drugs.xlsx`ï¼‰ã€‚
* æ”¯æŒç”¨æˆ·é€šè¿‡é€»è¾‘è¡¨è¾¾å¼å¯¹ç»“æœè¿›è¡Œç­›é€‰ï¼Œä¾‹å¦‚ï¼š

  ```
  column_a_name >= 0.5 && column_b_name != "unknown"
  ```

  è¦æ±‚æ”¯æŒå¸¸è§çš„æ“ä½œç¬¦ï¼ˆ`==`, `!=`, `<`, `>`, `<=`, `>=`ï¼‰ä¸é€»è¾‘è¿ç®—ç¬¦ï¼ˆ`&&`, `||`ï¼‰ï¼Œå¹¶å¯¹è¡¨è¾¾å¼è§£æååº”ç”¨äº DataFrameã€‚
* è¾“å‡ºç­›é€‰åçš„ `final_drugs.xlsx`ã€‚
* æä¾›å•ç‹¬çš„æ¨¡å—ç”¨äºå¯è§†åŒ–ï¼Œç”Ÿæˆå¸¸è§å›¾è¡¨ï¼ˆä¾‹å¦‚æŸ±çŠ¶å›¾ã€æ•£ç‚¹å›¾ã€çƒ­å›¾ï¼‰ï¼Œä¿å­˜ä¸ºæ–‡ä»¶ï¼ˆPNG æˆ– PDFï¼‰ã€‚

---

#### 2ï¸âƒ£ **ä»£ç ç»“æ„**

è¯·å°†åŠŸèƒ½åˆ†ä¸ºä¸¤ä¸ªä¸»è¦å­æ¨¡å—ï¼š

```
drugs4disease/
  __init__.py
  core.py        # æ•°æ®ç”Ÿæˆä¸å¤„ç†é€»è¾‘
  filter.py      # è¡¨è¾¾å¼è§£æä¸ç­›é€‰é€»è¾‘
  visualizer.py  # å¯è§†åŒ–é€»è¾‘ï¼ˆä¸è¿è¡Œè§£è€¦ï¼‰
  cli.py         # å‘½ä»¤è¡Œæ¥å£
tests/
  test_core.py
  test_filter.py
  test_visualizer.py
```

* `core.py`: åŒ…å«æ½œåœ¨è¯ç‰©åˆ—è¡¨ç”Ÿæˆé€»è¾‘ã€‚
* `filter.py`: å®ç°é€»è¾‘è¡¨è¾¾å¼è§£æå¹¶å¯¹ DataFrame è¿›è¡Œç­›é€‰ã€‚æ³¨æ„ï¼Œæ–°ç”Ÿæˆçš„è¡¨æ—¢éœ€è¦åŒ…å«åŸå§‹æ•°æ®è¡¨ï¼Œä¹Ÿéœ€è¦åŒ…å«ç­›é€‰åçš„æ•°æ®è¡¨ã€‚
* `visualizer.py`: æä¾›å•ç‹¬çš„å¯è§†åŒ–åŠŸèƒ½ï¼Œå¯è¢«ç‹¬ç«‹è°ƒç”¨ã€‚é™¤äº†ç”Ÿæˆå›¾ï¼Œè¿˜éœ€è¦åŒ…å«ä¸€ç³»åˆ—è§£è¯»çš„æ–‡å­—ã€‚æ”¾å…¥Report.mdä¸­ï¼ˆvisualize.ipynbå·²ç»ä¸ºæ¯ä¸ªå›¾å‡†å¤‡äº†ç›¸åº”æ–‡å­—ï¼Œè¯·ä»¥æ­¤ä¸ºå‚è€ƒï¼‰ï¼Œå¼•ç”¨å›¾è¡¨ã€‚
* `cli.py`: æä¾› CLI æ¥å£ï¼Œæ”¯æŒï¼š

  * ç”Ÿæˆæ•°æ®ï¼š`drugs4disease run --disease "Breast Cancer" --output-dir ./results`
  * ç­›é€‰æ•°æ®ï¼š`drugs4disease filter --expression 'score >= 0.5 && status != "unknown"' --input ./results/annotated_drugs.xlsx --output ./results/final_drugs.xlsx`
  * ç”Ÿæˆå›¾è¡¨ï¼š`drugs4disease visualize --input ./results/final_drugs.xlsx --output-dir ./results/figures`

---

#### 3ï¸âƒ£ **CLI ç‰¹æ€§**

* ä½¿ç”¨ `click` æ„å»º CLIã€‚
* æ”¯æŒå°†ç­›é€‰è¡¨è¾¾å¼ä»å‘½ä»¤è¡Œä¼ å…¥ã€‚

---

#### 4ï¸âƒ£ **åŒ…ä¸æ–‡æ¡£**

* æä¾› `setup.py` æˆ– `pyproject.toml`ã€‚
* æä¾›å®Œæ•´ `README.md`ï¼š

  * å®‰è£…æ–¹æ³•
  * ç¤ºä¾‹ CLI å‘½ä»¤
  * å‚æ•°è¯´æ˜
  * ç¤ºä¾‹è¾“å‡ºæˆªå›¾æˆ–æ–‡ä»¶ç»“æ„

---

### âš™ï¸ **å¼€å‘ç»†èŠ‚**

âœ… ç­›é€‰è¡¨è¾¾å¼è§£æå¯ç”¨ `pandas.query` æˆ–è‡ªå®šä¹‰è§£æå™¨ï¼ˆæ”¯æŒé€»è¾‘è¿ç®—ç¬¦è½¬æ¢ï¼š`&&` â¡ï¸ `and`, `||` â¡ï¸ `or`ï¼‰ã€‚

âœ… å›¾è¡¨ç”Ÿæˆæ¨èæ”¯æŒï¼š

* æŸ±çŠ¶å›¾ï¼ˆè¯ç‰©åˆ†æ•°åˆ†å¸ƒï¼‰
* çƒ­å›¾ï¼ˆè¯ç‰©-æŒ‡æ ‡çŸ©é˜µï¼‰
* æ•£ç‚¹å›¾ï¼ˆä¾‹å¦‚åˆ†æ•° vs å¦ä¸€ä¸ªæŒ‡æ ‡ï¼‰

âœ… å•å…ƒæµ‹è¯•è¦†ç›–ç­›é€‰è¡¨è¾¾å¼è§£æã€æ•°æ®ç”Ÿæˆä¸»æµç¨‹ã€å›¾è¡¨æ–‡ä»¶ç”Ÿæˆã€‚

âœ… Python 3.8+ã€‚

---

### ğŸš€ **è¾“å‡ºè¦æ±‚**

è¯·ç”Ÿæˆï¼š

* åŒ…ç›®å½•ç»“æ„è¯´æ˜ã€‚
* å„æ¨¡å—æ–‡ä»¶çš„ä¸»è¦ä»£ç ï¼ˆé‡ç‚¹æ˜¯è¡¨è¾¾å¼è§£æã€CLIã€å¯è§†åŒ–å…¥å£ï¼‰ã€‚
* å®‰è£…ä¸ä½¿ç”¨è¯´æ˜ã€‚
* ç¤ºä¾‹ CLI è°ƒç”¨ã€‚
* ç¤ºä¾‹è¾“å‡ºæ–‡ä»¶æ¸…å•ã€‚

---

### ğŸ“ **ä¸Šä¸‹æ–‡è¡¥å……**

> ç°æœ‰æ–‡ä»¶ï¼ˆ`drugs4disease.py`, `visualize.ipynb`, `run.ipynb`ï¼‰çš„æ ¸å¿ƒé€»è¾‘å¯ä»¥ç›´æ¥é›†æˆï¼Œæ— éœ€é‡å†™ç®—æ³•ï¼Œåªéœ€åˆç†å°è£…ã€‚
